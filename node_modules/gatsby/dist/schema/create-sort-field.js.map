{"version":3,"sources":["../../src/schema/create-sort-field.js"],"names":["require","GraphQLInputObjectType","GraphQLList","GraphQLEnumType","GraphQLNonNull","_","createKey","module","exports","createSortField","typeName","fieldNames","enumValues","forEach","field","value","SortByType","name","values","type","camelCase","fields","order","defaultValue","ASC","DESC"],"mappings":"iBAMIA,QAAS,SAAT,C;MAJFC,sB,YAAAA,sB;MACAC,W,YAAAA,W;MACAC,e,YAAAA,e;MACAC,c,YAAAA,c;;AAEF,MAAMC,IAAIL,QAAS,QAAT,CAAV;;AACA,MAAMM,YAAYN,QAAS,cAAT,CAAlB,C,CAEA;;;AACAO,OAAOC,OAAP,GAAiB,SAASC,eAAT,CACfC,QADe,EAEfC,UAFe,EAGf;AACA,QAAMC,aAAa,EAAnB;AACAD,aAAWE,OAAX,CAAmBC,SAAS;AAC1BF,eAAWN,UAAUQ,KAAV,CAAX,IAA+B;AAAEC,aAAOD;AAAT,KAA/B;AACD,GAFD;AAIA,QAAME,aAAa,IAAIb,eAAJ,CAAoB;AACrCc,UAAO,GAAEP,QAAS,kBADmB;AAErCQ,YAAQN;AAF6B,GAApB,CAAnB;AAKA,SAAO;AACLO,UAAM,IAAIlB,sBAAJ,CAA2B;AAC/BgB,YAAMZ,EAAEe,SAAF,CAAa,GAAEV,QAAS,OAAxB,CADyB;AAE/BW,cAAQ;AACNA,gBAAQ;AACNJ,gBAAMZ,EAAEe,SAAF,CAAa,GAAEV,QAAS,aAAxB,CADA;AAENS,gBAAM,IAAIf,cAAJ,CAAmB,IAAIF,WAAJ,CAAgBc,UAAhB,CAAnB;AAFA,SADF;AAKNM,eAAO;AACLL,gBAAMZ,EAAEe,SAAF,CAAa,GAAEV,QAAS,YAAxB,CADD;AAELa,wBAAe,KAFV;AAGLJ,gBAAM,IAAIhB,eAAJ,CAAoB;AACxBc,kBAAMZ,EAAEe,SAAF,CAAa,GAAEV,QAAS,kBAAxB,CADkB;AAExBQ,oBAAQ;AACNM,mBAAK;AAAET,uBAAQ;AAAV,eADC;AAENU,oBAAM;AAAEV,uBAAQ;AAAV;AAFA;AAFgB,WAApB;AAHD;AALD;AAFuB,KAA3B;AADD,GAAP;AAsBD,CApCD","file":"create-sort-field.js","sourcesContent":["// @flow\nconst {\n  GraphQLInputObjectType,\n  GraphQLList,\n  GraphQLEnumType,\n  GraphQLNonNull,\n} = require(`graphql`)\nconst _ = require(`lodash`)\nconst createKey = require(`./create-key`)\n\n// builds an input field for sorting, given an array of names to sort on\nmodule.exports = function createSortField(\n  typeName: string,\n  fieldNames: string[]\n) {\n  const enumValues = {}\n  fieldNames.forEach(field => {\n    enumValues[createKey(field)] = { value: field }\n  })\n\n  const SortByType = new GraphQLEnumType({\n    name: `${typeName}SortByFieldsEnum`,\n    values: enumValues,\n  })\n\n  return {\n    type: new GraphQLInputObjectType({\n      name: _.camelCase(`${typeName} sort`),\n      fields: {\n        fields: {\n          name: _.camelCase(`${typeName} sortFields`),\n          type: new GraphQLNonNull(new GraphQLList(SortByType)),\n        },\n        order: {\n          name: _.camelCase(`${typeName} sortOrder`),\n          defaultValue: `asc`,\n          type: new GraphQLEnumType({\n            name: _.camelCase(`${typeName} sortOrderValues`),\n            values: {\n              ASC: { value: `asc` },\n              DESC: { value: `desc` },\n            },\n          }),\n        },\n      },\n    }),\n  }\n}\n"]}