{"version":3,"sources":["../../src/redux/plugin-runner.js"],"names":["require","store","emitter","apiRunnerNode","on","action","node","getState","nodes","payload","id","traceId","page","plugin","name","layout"],"mappings":"AAAA;iBAE2BA,QAAS,SAAT,C;MAAnBC,K,YAAAA,K;MAAOC,O,YAAAA,O;;AACf,MAAMC,gBAAgBH,QAAS,0BAAT,CAAtB;;AAEAE,QAAQE,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMC,OAAOL,MAAMM,QAAN,GAAiBC,KAAjB,CAAuBH,OAAOI,OAAP,CAAeC,EAAtC,CAAb;AACAP,gBAAe,cAAf,EAA8B;AAAEG,QAAF;AAAQK,aAASN,OAAOM;AAAxB,GAA9B;AACD,CAHD;AAKAT,QAAQE,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMO,OAAOP,OAAOI,OAApB;AACAN,gBACG,cADH,EAEE;AAAES,QAAF;AAAQD,aAASN,OAAOM;AAAxB,GAFF,EAGEN,OAAOQ,MAAP,CAAcC,IAHhB;AAKD,CAPD;AASAZ,QAAQE,EAAR,CAAY,eAAZ,EAA4BC,UAAU;AACpC,QAAMU,SAASV,OAAOI,OAAtB;AACAN,gBACG,gBADH,EAEE;AAAEY,UAAF;AAAUJ,aAASN,OAAOM;AAA1B,GAFF,EAGEN,OAAOQ,MAAP,CAAcC,IAHhB;AAKD,CAPD","file":"plugin-runner.js","sourcesContent":["// Invoke plugins for certain actions.\n\nconst { store, emitter } = require(`./index`)\nconst apiRunnerNode = require(`../utils/api-runner-node`)\n\nemitter.on(`CREATE_NODE`, action => {\n  const node = store.getState().nodes[action.payload.id]\n  apiRunnerNode(`onCreateNode`, { node, traceId: action.traceId })\n})\n\nemitter.on(`CREATE_PAGE`, action => {\n  const page = action.payload\n  apiRunnerNode(\n    `onCreatePage`,\n    { page, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n\nemitter.on(`CREATE_LAYOUT`, action => {\n  const layout = action.payload\n  apiRunnerNode(\n    `onCreateLayout`,\n    { layout, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n"]}