var _JSON$stringify = require("@babel/runtime/core-js/json/stringify");

/*
  Based on Tobias Koppers @sokra bundle-loader
  https://github.com/webpack/bundle-loader

  and Arthur Stolyar's async-module-loader
*/
var loaderUtils = require("loader-utils");

module.exports = function () {};

module.exports.pitch = function (remainingRequest) {
  this.cacheable && this.cacheable();
  var query = loaderUtils.getOptions(this) || {};
  var chunkName = "";

  if (query.name) {
    chunkName = loaderUtils.interpolateName(this, query.name, {
      context: query.context,
      regExp: query.regExp
    });
  }

  var request = loaderUtils.stringifyRequest(this, "!!" + remainingRequest);
  var chunkComment = chunkName && "/* webpackChunkName: " + _JSON$stringify(chunkName) + " */ ";
  return "module.exports = () => import(" + chunkComment + request + ")";
};